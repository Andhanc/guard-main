# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env.local)

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ.

## üìã –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ .env.local

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–∞:

```bash
# Linux/macOS
cp .env.local.example .env.local

# Windows PowerShell
Copy-Item .env.local.example .env.local
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –§–∞–π–ª `.env.local` —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore` –∏ –Ω–µ –±—É–¥–µ—Ç –ø–æ–ø–∞–¥–∞—Ç—å –≤ git.

## üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### LDAP –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã LDAP –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|----------------------|
| `LDAP_ENABLED` | –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å LDAP | –î–∞ | `false` |
| `LDAP_URL` | URL LDAP —Å–µ—Ä–≤–µ—Ä–∞ | –î–∞ (–µ—Å–ª–∏ LDAP –≤–∫–ª—é—á–µ–Ω) | - |
| `LDAP_BASE_DN` | –ë–∞–∑–æ–≤—ã–π DN | –î–∞ (–µ—Å–ª–∏ LDAP –≤–∫–ª—é—á–µ–Ω) | - |
| `LDAP_BIND_DN` | DN –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –∫ LDAP | –ù–µ—Ç | - |
| `LDAP_BIND_PASSWORD` | –ü–∞—Ä–æ–ª—å –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ | –ù–µ—Ç | - |
| `LDAP_USER_SEARCH_BASES` | –ë–∞–∑—ã –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | –ù–µ—Ç | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `LDAP_BASE_DN` |
| `LDAP_USER_SEARCH_FILTER` | –§–∏–ª—å—Ç—Ä –ø–æ–∏—Å–∫–∞ | –ù–µ—Ç | `(uid={username})` |
| `LDAP_USERNAME_ATTRIBUTE` | –ê—Ç—Ä–∏–±—É—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –ù–µ—Ç | `uid` |
| `LDAP_EMAIL_ATTRIBUTE` | –ê—Ç—Ä–∏–±—É—Ç email | –ù–µ—Ç | `mail` |
| `LDAP_FIRSTNAME_ATTRIBUTE` | –ê—Ç—Ä–∏–±—É—Ç –∏–º–µ–Ω–∏ | –ù–µ—Ç | `givenName` |
| `LDAP_LASTNAME_ATTRIBUTE` | –ê—Ç—Ä–∏–±—É—Ç —Ñ–∞–º–∏–ª–∏–∏ | –ù–µ—Ç | `sn` |
| `LDAP_TIMEOUT` | –¢–∞–π–º–∞—É—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (–º—Å) | –ù–µ—Ç | `10000` |

**–ü—Ä–∏–º–µ—Ä –¥–ª—è –ë–ì–£–ò–†:**
```env
LDAP_ENABLED=true
LDAP_URL=ldaps://ldap.bsuir.by
LDAP_BASE_DN=dc=bsuir,dc=by
LDAP_BIND_DN=uid=smdoadmin,ou=staff,dc=bsuir,dc=by
LDAP_BIND_PASSWORD=your_password_here
LDAP_USER_SEARCH_BASES=ou=staff,dc=bsuir,dc=by,ou=stud,dc=bsuir,dc=by
LDAP_USER_SEARCH_FILTER=(uid={username})
LDAP_USERNAME_ATTRIBUTE=uid
LDAP_EMAIL_ATTRIBUTE=mail
LDAP_FIRSTNAME_ATTRIBUTE=givenName
LDAP_LASTNAME_ATTRIBUTE=sn
LDAP_TIMEOUT=10000
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –¥–æ—Å—Ç—É–ø –∫ –æ—Ç—á–µ—Ç–∞–º

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|----------------------|
| `REPORT_ACCESS_SECRET` | –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ QR-—Å—Å—ã–ª–æ–∫ | –ù–µ—Ç | `dev-secret-change-in-production` |

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –í production –∏–∑–º–µ–Ω–∏—Ç–µ `REPORT_ACCESS_SECRET` –Ω–∞ —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É –º–∏–Ω–∏–º—É–º 16 —Å–∏–º–≤–æ–ª–æ–≤!

**–ü—Ä–∏–º–µ—Ä:**
```env
REPORT_ACCESS_SECRET=your-random-secret-key-min-16-chars-long
```

### –ü—É–±–ª–∏—á–Ω—ã–π URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|----------------------|
| `NEXT_PUBLIC_APP_URL` | –ü—É–±–ª–∏—á–Ω—ã–π URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è QR-–∫–æ–¥–æ–≤ | –ù–µ—Ç | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–∑ –∑–∞–ø—Ä–æ—Å–∞ |

**–ü—Ä–∏–º–µ—Ä:**
```env
NEXT_PUBLIC_APP_URL=http://guard-main.by:3000
# –∏–ª–∏ –¥–ª—è HTTPS:
NEXT_PUBLIC_APP_URL=https://guard-main.by
```

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–±—ã—á–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ Docker –∏–ª–∏ —Å–∏—Å—Ç–µ–º—É:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è |
|------------|----------|----------------|
| `NODE_ENV` | –û–∫—Ä—É–∂–µ–Ω–∏–µ (production/development) | Docker Compose |
| `PORT` | –ü–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | Docker Compose (3000) |
| `NEXT_TELEMETRY_DISABLED` | –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ Next.js | Docker Compose (1) |

## üìù –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å LDAP –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É–∫–∞–∑–∞—Ç—å:

```env
LDAP_ENABLED=true
LDAP_URL=ldaps://ldap.bsuir.by
LDAP_BASE_DN=dc=bsuir,dc=by
LDAP_BIND_DN=uid=smdoadmin,ou=staff,dc=bsuir,dc=by
LDAP_BIND_PASSWORD=your_password
LDAP_USER_SEARCH_BASES=ou=staff,dc=bsuir,dc=by,ou=stud,dc=bsuir,dc=by
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env.local` –≤ git** - —Ñ–∞–π–ª —É–∂–µ –≤ `.gitignore`
2. **–ò–∑–º–µ–Ω–∏—Ç–µ `REPORT_ACCESS_SECRET`** –Ω–∞ —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É –≤ production
3. **–•—Ä–∞–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ LDAP –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ —Å–µ–∫—Ä–µ—Ç—ã Docker
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS** –≤ production –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö

## üê≥ Docker

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Docker, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `.env.local` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `env_file` –≤ `docker-compose.yml`.

–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `docker-compose.override.yml` (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è –≤ git).

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **LDAP –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:** `LDAP_SETUP.md`
- **Docker –¥–µ–ø–ª–æ–π:** `DOCKER_DEPLOY.md`
- **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é:** `DEPLOY_INSTRUCTIONS.md`
